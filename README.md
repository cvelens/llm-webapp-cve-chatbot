# CVELens Query Frontend Web Application

## Overview

The CVELens Query Frontend Web Application is a web-based interface for querying and interacting with a Common Vulnerabilities and Exposures (CVE) database. It provides a chat-like interface similar to ChatGPT or Claude, allowing users to submit queries about CVEs and receive AI-generated responses.

## Features

- User authentication (signup, login, logout)
- Chat-like interface for CVE queries
- Real-time updates of chat history
- Persistent storage of user queries and AI responses
- Responsive design for various screen sizes

## Technology Stack

- Backend: Python 3.9+ with Flask framework
- Frontend: HTML5, CSS3, JavaScript
- Database: SQLite (via SQLAlchemy ORM)
- Authentication: Flask-Login
- API: RESTful design principles

## Project Structure

```
cve-query-frontend/
├── app/
│   ├── static/
│   │   └── style.css
│   ├── templates/
│   │   ├── base.html
│   │   ├── login.html
│   │   ├── signup.html
│   │   └── query.html
│   ├── __init__.py
│   ├── cve_query.db
│   └── models.py
│   └── routes.py
├── .gitignore
├── README.md
|── Dockerfile
|── Jenkinsfile
|── Jenkinsfile2
├── requirements.txt
└── run.py
|-- get_next_version.py
|-- query.py
|-- run.py
|-- readiness-check.sh
|-- liveness-check.sh
```

## Setup and Installation

1. Clone the repository:
   ```
   git clone https://github.com/cvelens/llm-webapp-cve-chatbot.git
   cd llm-webapp-cve-chatbot
   ```

2. Install the required dependencies:
   ```
   pip install -r requirements.txt
   ```

3. Run the application:
   ```
   python run.py
   ```

6. Open a web browser and navigate to `http://localhost:5002` (or the appropriate address if you've configured it differently).

## Usage

1. Sign up for a new account or log in if you already have one.
2. Once logged in, you'll see the main query interface.
3. Type your CVE-related query in the input field at the bottom of the page.
4. Press Enter or click the Send button to submit your query.
5. The AI-generated response will appear in the chat area above the input field.
6. Your query history will be displayed on the left side of the screen.

## CI/CD with Jenkins

The CI/CD pipeline for this web app includes two Jenkinsfiles:
- **Jenkinsfile**: This workflow checks out the code and ensures that the commit messages adhere to conventional commit standards.
- **Jenkinsfile2**: This workflow builds a multi-platform Docker image supporting ARM64 and AMD64 architectures, tags it with an appropriate version, and pushes it to DockerHub.

## Configuration

The application can be configured by modifying the following files:

- `app/__init__.py`: Database URI, secret key, and other Flask configurations
- `run.py`: Host and port settings for the development server

## Deployment

For production deployment:

1. Use a production WSGI server like Gunicorn or uWSGI instead of the Flask development server.
2. Set up a proper database system like PostgreSQL instead of SQLite.
3. Ensure all sensitive information (like the SECRET_KEY) is stored in environment variables.
4. Set up HTTPS using a valid SSL certificate.
5. Configure your web server (e.g., Nginx) to serve static files and proxy requests to the WSGI server.
